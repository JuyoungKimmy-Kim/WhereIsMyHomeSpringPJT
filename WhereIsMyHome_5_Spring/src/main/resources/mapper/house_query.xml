<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mycom.myapp.house.dao.HouseDao"> <!--  @Mapper annotation 있는 dao -->

	<!-- 동 이름으로 집 정보 받아오기-->
	<select id="getSearchByDong" resultType="com.mycom.myapp.house.dto.HouseDto">
		select hd.no, hd.dong, hd.code, hd.AptName, hd.dealAmount, hd.dealYear,
			   hd.dealMonth, hd.dealDay, hd.area,
			   hi.lat, hi.lng
		  from housedeal hd join houseinfo hi
		 where hd.AptName=hi.AptName and hd.dong=#{dongName}
	</select>
	
	<!--  아파트 이름으로 정보 받아오기 -->
	<select id="getSearchByApt" resultType="com.mycom.myapp.house.dto.HouseDto">
		select hd.no, hd.dong, hd.code, hd.AptName, hd.dealAmount, hd.dealYear,
			   hd.dealMonth, hd.dealDay, hd.area,
			   hi.lat, hi.lng
		  from housedeal hd join houseinfo hi
		 where hd.AptName = hi.AptName
		   and hd.AptName like concat('%',#{aptName},'%')
	</select>

</mapper>	